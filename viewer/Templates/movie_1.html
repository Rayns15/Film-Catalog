<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Shawshank Redemption: A Movie Description</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        /* Custom styles to supplement Tailwind */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #111827; /* Dark blue-gray background */
            background-image: linear-gradient(145deg, #111827 0%, #1f2937 50%, #000000 100%);
            color: #f3f4f6; /* Light gray text */
            /* Added for smooth exit transition */
            transition: opacity 0.5s ease-out;
        }

        /* A class to trigger the fade-out on the body */
        body.fade-out {
            opacity: 0;
        }

        /* Glassmorphism effect for the main card */
        .card {
            background: rgba(31, 41, 55, 0.5); /* Semi-transparent background */
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            /* Updated transition to handle tilt, entrance, and exit animations smoothly */
            transition: opacity 0.4s ease-out, transform 0.2s ease-out;
        }
        
        /* Entrance animation (Unchanged) */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }
        
        /* Custom button styling (Unchanged) */
        .home-btn {
            background-color: #3b82f6; /* Blue-600 */
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .home-btn:hover {
            background-color: #2563eb; /* Blue-700 */
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div id="movie-card" class="card rounded-2xl shadow-2xl max-w-4xl w-full overflow-hidden fade-in">
        <div class="md:flex">
            <div class="md:w-1/3">
                <img class="h-full w-full object-cover" src="https://placehold.co/400x600/111827/f3f4f6?text=THE+SHAWSHANK+REDEMPTION" alt="The Shawshank Redemption Movie Poster" onerror="this.onerror=null;this.src='https://placehold.co/400x600?text=Image+Not+Found';">
            </div>

            <div class="p-8 md:p-10 md:w-2/3">
                <h1 class="text-4xl md:text-5xl font-bold text-white mb-2">The Shawshank Redemption</h1>
                <p class="text-lg text-blue-300 mb-6 font-semibold">"Fear can hold you prisoner. Hope can set you free."</p>
                
                <div class="text-gray-300 space-y-4 text-justify">
                    <p>
                        Andy Dufresne (Tim Robbins) is a successful banker who is arrested for the murder of his wife and her lover, and sentenced to life imprisonment at the Shawshank State Penitentiary. He maintains his innocence but finds himself in a harsh new reality.
                    </p>
                    <p>
                        Over the next two decades, he forms a deep bond with fellow prisoner Ellis "Red" Redding (Morgan Freeman) and becomes an unlikely source of hope for the inmates. Andy uses his intellect to navigate the brutal prison system and its corrupt warden, all while holding onto a quiet plan for his own redemption.
                    </p>
                </div>

                <div class="mt-8">
                    <h3 class="text-xl font-bold text-white mb-3">Main Cast</h3>
                    <ul class="list-disc list-inside text-gray-300">
                        <li>Tim Robbins as Andy Dufresne</li>
                        <li>Morgan Freeman as Ellis "Red" Redding</li>
                        <li>Bob Gunton as Warden Samuel Norton</li>
                        <li>William Sadler as Heywood</li>
                        <li>Clancy Brown as Captain Byron Hadley</li>
                    </ul>
                </div>
                
                <div class="mt-10 text-center">
                    <a href="http://127.0.0.1:8000/home/" class="home-btn inline-block text-white font-bold py-3 px-8 rounded-lg shadow-lg">
                        Return Home
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const card = document.getElementById('movie-card');
            const homeButton = document.querySelector('.home-btn');
            const body = document.body;

            // --- 3D Tilt Effect (Unchanged) ---
            if (card) {
                card.addEventListener('mousemove', (e) => {
                    const { left, top, width, height } = card.getBoundingClientRect();
                    const x = e.clientX - left;
                    const y = e.clientY - top;
                    const rotateY = -1 * ((x - width / 2) / (width / 2)) * 5;
                    const rotateX = ((y - height / 2) / (height / 2)) * 5;
                    card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                });

                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg)';
                });
            }
            
            // --- NEW: Smooth Exit Transition ---
            if (homeButton) {
                homeButton.addEventListener('click', (e) => {
                    e.preventDefault(); // Prevent immediate navigation
                    const targetUrl = homeButton.href;
                    
                    // 1. Fade out the card
                    if (card) {
                        card.style.opacity = '0';
                        card.style.transform = 'translateY(20px)'; // Move it down slightly
                    }

                    // 2. After a short delay, fade out the whole body
                    setTimeout(() => {
                        body.classList.add('fade-out');
                        
                        // 3. Navigate after the body fade-out is complete
                        setTimeout(() => {
                            window.location.href = targetUrl;
                        }, 500); // This duration should match the body's transition time
                    }, 200); // Delay before fading the body
                });
            }

            // --- Handler for Browser Back/Forward functionality ---
            window.addEventListener('beforeunload', () => {
                body.classList.add('fade-out');
            });
        });
    </script>

</body>
</html>
